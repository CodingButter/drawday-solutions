# Configuration Files Setup Guide

This directory contains the necessary configuration files for the DrawDay Solutions project that are not tracked by Git.

## Required Configuration Files

### 1. Website Environment Variables
**Location:** `apps/website/.env.local`

This file contains:
- Firebase Client SDK configuration (public keys)
- Firebase Admin SDK configuration (requires private key - see below)
- Email server configuration (SMTP settings)
- JWT secret for authentication
- Application URL

### 2. Firebase Service Account (MISSING - REQUIRED)
**Location:** `apps/website/firebase-service-account.json` (needs to be created)

To get this file:
1. Go to Firebase Console (https://console.firebase.google.com)
2. Select your project (bettermade-spinpick)
3. Go to Project Settings > Service Accounts
4. Click "Generate new private key"
5. Save the downloaded JSON file as `firebase-service-account.json` in `apps/website/`

After downloading, update the `.env.local` file with:
- `FIREBASE_CLIENT_EMAIL` - from the JSON file's `client_email` field
- `FIREBASE_PRIVATE_KEY` - from the JSON file's `private_key` field (keep the \n characters)

### 3. Vercel Environment (Optional)
**Location:** `.vercel/.env.development.local`

This file is auto-generated by Vercel CLI when linking to a Vercel project.

## Setup Instructions

1. **Copy configuration files to your project:**
   ```bash
   # From this directory, copy all files to your local project
   cp -r * /path/to/your/drawday-solutions/project/
   ```

2. **Get Firebase Service Account:**
   - Follow the instructions above to download the service account key
   - Place it in `apps/website/firebase-service-account.json`
   - Update the `.env.local` file with the credentials

3. **Install dependencies:**
   ```bash
   cd project
   pnpm install
   ```

4. **Run the project:**
   ```bash
   # Development mode
   pnpm dev

   # Build extension
   pnpm build

   # Run website only
   pnpm --filter @raffle-spinner/website dev
   ```

## Important Security Notes

⚠️ **NEVER commit these files to Git:**
- `.env.local` files contain sensitive credentials
- `firebase-service-account.json` contains private keys
- These files are already in `.gitignore`

## Environment Variables Reference

### Firebase Client (Public - Safe to expose)
- `NEXT_PUBLIC_FIREBASE_API_KEY`
- `NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN`
- `NEXT_PUBLIC_FIREBASE_PROJECT_ID`
- `NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET`
- `NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID`
- `NEXT_PUBLIC_FIREBASE_APP_ID`

### Firebase Admin (Private - Keep secret)
- `FIREBASE_PROJECT_ID`
- `FIREBASE_CLIENT_EMAIL`
- `FIREBASE_PRIVATE_KEY`

### Email Configuration
- `EMAIL_HOST` - SMTP server
- `EMAIL_PORT` - SMTP port
- `EMAIL_SECURE` - Use TLS/SSL
- `EMAIL_USER` - SMTP username
- `EMAIL_PASS` - SMTP password
- `EMAIL_FROM` - Sender email address

### Application
- `JWT_SECRET` - Secret for signing JWTs
- `NEXT_PUBLIC_APP_URL` - Application URL

## Troubleshooting

If you encounter authentication issues:
1. Ensure Firebase service account credentials are correct in `.env.local`
2. Check that the Firebase project ID matches in all configurations
3. Verify email settings are correct for your SMTP provider
4. Make sure JWT_SECRET is set and secure

For OAuth issues:
1. Ensure OAuth providers are enabled in Firebase Console
2. Add authorized redirect URIs in provider settings
3. Check that client IDs and secrets are configured (if using custom OAuth)